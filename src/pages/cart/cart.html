<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Cart</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <p>
        You have total {{ cart.totalItemsCount }} item in your cart. 
        <button *ngIf="cart.items.length>0" (click)="clearCart()" class="btn btn-light btn-sm">Clear Shopping Cart</button>
      </p>
  <ion-list>
      <ion-item  *ngFor="let item of cart | async">
          <ion-thumbnail item-left>            
          <img src="{{item.image}}">
          </ion-thumbnail>
          <h2>{{item.title}}</h2>
          <p>${{item.price}} x {{item.quantity}} = ${{item.price * item.quantity}}</p>
          <div class="col text-center">{{ shoppingCart.getQuantity(product)}} in cart</div>
          <button ion-button clear item-right (click)="addToCart()" >
            <ion-icon color="danger" style=" font-size: 25px;" name="ios-arrow-dropup-circle"></ion-icon>
          </button>
          
          <button ion-button clear item-right (click)="removeFromCart()" >
            <ion-icon color="danger" style=" font-size: 25px;" name="ios-arrow-dropdown-circle"></ion-icon>
          </button>
          
          <button style=" font-size: 20px;" ion-button clear item-right (click)="remove(item)" >
            <ion-icon color="danger" name="ios-remove-circle"></ion-icon>
          </button>
      </ion-item>

      <ion-item *ngIf="(cart | async)?.length" >
          <h2>Grand Total</h2> 
          <h2 item-right >${{cartService.cartAmount}}</h2>
      </ion-item>
        
      <ion-item *ngIf="!(cart | async)?.length" >
        <h2 class="center">Cart is empty</h2>       
      </ion-item>
      
      <button fixed ion-button icon-start block color="light" *ngIf="(cart | async)?.length" (click)="checkout()">
          <ion-icon name="ios-cart"></ion-icon>
          Checkout
      </button>  
  </ion-list>

</ion-content>
